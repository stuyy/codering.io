<div class="main">
  <div *ngIf="loading" class="spinner-container">
    <mat-spinner></mat-spinner>
  </div>
  <mat-progress-bar *ngIf="showProgressBar" mode="indeterminate"></mat-progress-bar>
  <div id="overlay"></div>
  <div [@fadeInOut]="!loading ? 'open' : 'closed'">
    <section class="main-top">
      <section class="search-bar-container">
        <mat-form-field appearance="outline">
          <mat-label>Search For User</mat-label>
          <input
            type="text"
            name="search"
            matInput
            [formControl]="query"
            [matAutocomplete]="auto">
        </mat-form-field>
        <mat-autocomplete #auto="matAutocomplete">
          <mat-option *ngFor="let user of cachedUsers" [value]="user.username">
            {{user.username}}
          </mat-option>
        </mat-autocomplete>
        <button mat-fab color="primary" (click)="search()" [disabled]="showProgressBar">
          <mat-icon>search</mat-icon>
        </button>
      </section>
      <section class="user-card-container">
        <app-user-profile class="profile" [user]="user"></app-user-profile>
      </section>
      <section class="statistics-container">
        <app-statistics></app-statistics>
      </section>
  </section>
</div>
